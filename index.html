<!DOCTYPE html>
<html>
<head>
  <title>Conway's Game of Life - Implemented by ChatGPT</title>
  <style>
    body {
      background-color: #F3F3F3;
      text-align: center;
    }
    #title {
      font-size: 2em;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .btn {
      width: 150px;
      height: 50px;
      margin: 10px;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
    }
    #randomButton {
      background-color: red;
      color: white;
    }
    #playButton {
      background-color: green;
      color: white;
    }
    #pauseButton {
      background-color: blue;
      color: white;
    }
  </style>
</head>
<body>
  <div id="title">Conway's Game of Life - Implemented by ChatGPT</div>
  <canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;"></canvas>
  <button id="randomButton" class="btn" onclick="randomize()">Randomize Seed</button>
  <button id="playButton" class="btn" onclick="start()">Start</button>
  <button id="pauseButton" class="btn" onclick="pause()">Pause</button>
  <script>
    const N = 50;
    let grid = Array.from({length: N}, () => Array.from({length: N}, () => 0));
    let canvas = document.getElementById('myCanvas');
    let ctx = canvas.getContext('2d');
    let isPlaying = false;
    let interval;

    const patterns = {
      'Block': [
        [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],
        [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],
        [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
        [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
        [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],
        [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],
        [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
        [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
        [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],
        [1, 1, 0, 0, 1, 1, 0, 0, 1, 1],
      ],
      'Blinker': [
        [0, 0, 0, 1, 1, 1, 0, 0, 0],
        [0, 0, 0, 1, 1, 1, 0, 0, 0],
        [0, 0, 0, 1, 1, 1, 0, 0, 0],
        [1, 1, 1, 0, 0, 0, 1, 1, 1],
        [1, 1, 1, 0, 0, 0, 1, 1, 1],
        [1, 1, 1, 0, 0, 0, 1, 1, 1],
        [0, 0, 0, 1, 1, 1, 0, 0, 0],
        [0, 0, 0, 1, 1, 1, 0, 0, 0],
        [0, 0, 0, 1, 1, 1, 0, 0, 0],
      ],
      // add more patterns here...
    };

    canvas.addEventListener('click', function(event) {
      var x = event.pageX - canvas.offsetLeft;
      var y = event.pageY - canvas.offsetTop;
      var cellX = Math.floor(x / 10);
      var cellY = Math.floor(y / 10);
      grid[cellY][cellX] = grid[cellY][cellX] ? 0 : 1;
      draw();
    }, false);

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for(let i=0; i<N; i++) {
        for(let j=0; j<N; j++) {
          if(grid[i][j]) {
            ctx.fillStyle = "#000000";
            ctx.fillRect(j*10, i*10, 10, 10);
          }
        }
      }
    }

    function update() {
      if (!isPlaying) {
        return;
      }
      let newGrid = JSON.parse(JSON.stringify(grid));
      for(let i=0; i<N; i++) {
        for(let j=0; j<N; j++) {
          let neighbours = countNeighbours(i, j);
          if(grid[i][j] && (neighbours < 2 || neighbours > 3)) {
            newGrid[i][j] = 0;
          } else if(!grid[i][j] && neighbours === 3) {
            newGrid[i][j] = 1;
          }
        }
      }
      grid = newGrid;
      draw();
      setTimeout(update, 100);
    }

    function countNeighbours(x, y) {
      let sum = 0;
      for(let i=-1; i<2; i++) {
        for(let j=-1; j<2; j++) {
          let newX = (x + i + N) % N;
          let newY = (y + j + N) % N;
          sum += grid[newX][newY];
        }
      }
      return sum - grid[x][y];
    }

    function randomize() {
      for(let i=0; i<N; i++) {
        for(let j=0; j<N; j++) {
          grid[i][j] = 0;
        }
      }

      const patternNames = Object.keys(patterns);
      const randomPatternName = patternNames[Math.floor(Math.random() * patternNames.length)];
      const randomPattern = patterns[randomPatternName];
      const offsetX = Math.floor((N - randomPattern.length) / 2);
      const offsetY = Math.floor((N - randomPattern[0].length) / 2);

      for(let i=0; i<randomPattern.length; i++) {
        for(let j=0; j<randomPattern[i].length; j++) {
          grid[i + offsetX][j + offsetY] = randomPattern[i][j];
        }
      }

      draw();
    }

    function start() {
      isPlaying = true;
      update();
    }

    function pause() {
      isPlaying = false;
    }

    // start the game with random seed
    randomize();
  </script>
</body>
</html>
